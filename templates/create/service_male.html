{% extends 'base.html' %}


{% load static %}
{% load crispy_forms_tags %}


{% block content %}
<div class="container py-5">

    <div class="row justify-content-center mb-5">
        <div class="col-md-12">
            {% comment %} <form autocomplete="off" method="POST">
{% csrf_token %}
  {{form|crispy}}
  <div class="d-flex justify-content-end">
    <button type="submit" class="btn btn-success btn-lg">Ajouter</button>
</div></form> {% endcomment %}

<form method="POST">
   {% csrf_token %}

 {{ form.gip.as_hidden}}
  <div class="form-row">
      <div class="form-group col-md-12">
        {{ form.sow_no|as_crispy_field }}
      </div>
  </div>
  <div class="form-row">
      <div class="form-group col-md-12">
        {{ form.dos|as_crispy_field }}
      </div>
  </div>
  <div class="form-row">

      <div class="form-group col-md-12">
      {{ form.dof|as_crispy_field}}
        </div>
  </div>
  <div class="form-row">

        <div class="form-group col-md-12">
          {{ form.parity|as_crispy_field }}
          
        </div>
  </div>
  <div class="form-row">

      <div class="form-group col-md-12">
          {{ form.born_male|as_crispy_field }}
          
      </div> 
  </div>
  <div class="form-row">

      <div class="form-group col-md-12">
          {{ form.born_female|as_crispy_field }}
          
      </div> 
  </div>
  <div class="form-row">

      <div class="form-group col-md-12">
          {{ form.born_total.as_hidden }}
          
      </div> 
  </div>
  <div class="form-row">

      <div class="form-group col-md-12">
          {{ form.litter_weight_birth|as_crispy_field }}
          
      </div> 
  </div>
  <div class="form-row">
      <div class="form-group col-md-12">
          {{ form.weaned_male|as_crispy_field }}
          
      </div>
</div>
<div class="form-row">
      <div class="form-group col-md-12">
          {{ form.weaned_female|as_crispy_field }}
         
      </div>
</div>

<div class="form-row">
      <div class="form-group col-md-12">
          {{ form.total_weaned.as_hidden }}
         
      </div>
</div>

<div class="form-row">
      <div class="form-group col-md-12">
          {{ form.weaning_weight|as_crispy_field }}
         
      </div>
</div>
<div class="form-row">
      <div class="form-group col-md-12">
          {{ form.still_birth_abnormality|as_crispy_field }}
         
      </div>
</div>


<div class="d-flex justify-content-end">
    <button type="submit" class="btn btn-success btn-lg">Ajouter</button>
</div></form>


  <div class="table-responsive">
      <table class="table table-bordered table-striped ">


          <thead id="theadthid">
            <tr >
            <th scope="col"> Numéro de série</th>
            <th scope="col"> Numéro d'identification </th>
            <th scope="col"> Numéro de la truie</th>
            <th scope="col"> Date de service </th>
            <th scope="col"> Date de mise bas</th>
            <th scope="col"> Parité</th>
            <th scope="col"> Nombre de mâles nés</th>
            <th scope="col"> Nombre de femelles nées</th>
            <th scope="col"> Nombre total de nés</th>
            <th scope="col"> Taille de la portée à la naissance</th>
            <th scope="col"> Nombre de mâles sevrés</th>
            <th scope="col"> Nombre de femelles sevrées</th>
            <th scope="col"> Nombre total de sevrés</th>
            <th scope="col"> Poids au sevrage</th>
            <th scope="col"> Mort-né ou anomalie</th>  
            <th scope="col"> Supprimer</th> 
              </tr>
          </thead>

          <tbody id="tbodydata">


{% for service in services %}
          <tr>
            <th scope="row">{{ forloop.counter}}</th>
            <td>{{ service.gip }}</td>
            <td>{{ service.sow_no }}</td>
            <td>{{ service.dos }}</td>
            <td>{{ service.dof }}</td>
            <td>{{ service.parity }}</td>
            <td>{{ service.born_male }}</td>
            <td>{{ service.born_female }}</td>
            <td>{{ service.born_total }}</td>
            <td>{{ service.litter_weight_birth }}</td>
            <td>{{ service.weaned_male }}</td>
            <td>{{ service.weaned_female }}</td>
            <td>{{ service.total_weaned }}</td>
            <td>{{ service.weaning_weight }}</td>
            <td>{{ service.still_birth_abnormality }}</td>
              
            <td><form action="{% url 'deleteservice' gip service.pk %}" method="POST">
                {% csrf_token %}
                <input value='{{backbut}}' id='backbutton' name='backbutton' type='hidden'>
                
                                    <button class="btn btn-danger btn-sm" type="submit">Supprimer</button>
                </form>
                </td>
          </tr>
{% endfor %}
          </tbody>
      </table>
  </div>

<!-- <form action="{% url 'vaccination'  gip %}" method="get">
    <button class="btn btn-success btn-lg" type="submit">Suivant</button>
</form> -->

<div class="d-flex justify-content-between mt-4 mx-4">
    <button class="btn btn-secondary btn-lg" type="submit" formaction="/dataentry/">Retour</button>
    <form action="{% url 'vaccination'  gip %}" method="get">
        <button class="btn btn-success btn-lg" type="submit">Suivant</button>
    </form>
</div>



{% endblock content%}
